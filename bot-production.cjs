// Production Telegram bot for Password & Entropy Lab
const TelegramBot = require('node-telegram-bot-api');

// Environment variables
const token = process.env.TELEGRAM_BOT_TOKEN || '8319585111:AAF8kp_kxMe1ZC_iFSB3s2ESTMbKRcZ6qJo';
const APP_URL = process.env.APP_URL || 'https://your-app.up.railway.app';

// Create bot
const bot = new TelegramBot(token, { polling: true });

console.log('ğŸ¤– Production Bot Password & Entropy Lab Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½!');
console.log('ğŸ“± App URL:', APP_URL);

// Command /start
bot.onText(/\/start/, (msg) => {
  const chatId = msg.chat.id;
  const firstName = msg.from.first_name || 'Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ';
  
  const welcomeMessage = `ğŸ” Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Password & Entropy Lab, ${firstName}!

Ğ­Ñ‚Ğ¾ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ²Ğ°Ğ¼ Ğ¿Ñ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ¸Ğ»Ñƒ Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹ Ğ¿Ğ¾ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ñƒ NIST 800-63B.

âœ… ĞŸĞ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾ - Ğ²ÑĞµ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ Ğ² Ğ²Ğ°ÑˆĞµĞ¼ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ
âœ… ĞĞ¸ĞºĞ°ĞºĞ¸Ñ… ÑĞµÑ€Ğ²ĞµÑ€Ğ¾Ğ² - Ğ¿Ğ°Ñ€Ğ¾Ğ»Ğ¸ Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°ÑÑ‚ÑÑ Ğ¿Ğ¾ ÑĞµÑ‚Ğ¸
âœ… Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ¾Ğ² Ğ² PDF Ğ¸ JSON
âœ… ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ñ€ÑƒÑÑĞºĞ¾Ğ¹ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñ‹

ğŸš€ ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ğ½Ğ¸Ğ¶Ğµ Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ!`;

  const options = {
    reply_markup: {
      inline_keyboard: [
        [
          {
            text: 'ğŸ” ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ',
            web_app: { url: APP_URL }
          }
        ],
        [
          {
            text: 'â“ Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ°',
            callback_data: 'help'
          },
          {
            text: 'â„¹ï¸ Ğ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸',
            callback_data: 'about'
          }
        ]
      ]
    }
  };

  bot.sendMessage(chatId, welcomeMessage, options);
});

// Command /help
bot.onText(/\/help/, (msg) => {
  const chatId = msg.chat.id;
  
  const helpMessage = `â“ Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

ğŸ” **ĞšĞ°Ğº Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ:**
1. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "ğŸ” ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ"
2. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ Ğ² Ğ¿Ğ¾Ğ»Ğµ Ğ²Ğ²Ğ¾Ğ´Ğ°
3. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·
4. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "ğŸ“„ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ PDF" Ğ´Ğ»Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ°

ğŸ“Š **Ğ§Ñ‚Ğ¾ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ:**
â€¢ Ğ”Ğ»Ğ¸Ğ½Ğ° Ğ¸ ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ
â€¢ Ğ­Ğ½Ñ‚Ñ€Ğ¾Ğ¿Ğ¸Ñ (ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ğ¾ÑÑ‚ÑŒ) Ğ² Ğ±Ğ¸Ñ‚Ğ°Ñ…
â€¢ ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ğ¸ Ğ¸Ğ· ÑĞ»Ğ¾Ğ²Ğ°Ñ€ĞµĞ¹
â€¢ ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ (qwerty, Ğ¹Ñ†ÑƒĞºĞµĞ½)
â€¢ ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ñ‹ Ğ¸ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹
â€¢ Ğ¡Ğ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ñƒ NIST 800-63B

ğŸ”’ **Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ:**
Ğ’ÑĞµ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´ÑÑ‚ Ğ² Ğ²Ğ°ÑˆĞµĞ¼ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ. ĞŸĞ°Ñ€Ğ¾Ğ»Ğ¸ Ğ½Ğ¸ĞºÑƒĞ´Ğ° Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°ÑÑ‚ÑÑ Ğ¸ Ğ½Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑÑ‚ÑÑ.`;

  const options = {
    reply_markup: {
      inline_keyboard: [
        [
          {
            text: 'ğŸ” ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ',
            web_app: { url: APP_URL }
          }
        ]
      ]
    }
  };

  bot.sendMessage(chatId, helpMessage, options);
});

// Command /about
bot.onText(/\/about/, (msg) => {
  const chatId = msg.chat.id;
  
  const aboutMessage = `â„¹ï¸ Ğ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸ Password & Entropy Lab

ğŸ¯ **Ğ¦ĞµĞ»ÑŒ:** ĞŸĞ¾Ğ¼Ğ¾Ñ‡ÑŒ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒ Ğ±Ğ¾Ğ»ĞµĞµ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ğ¸ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ Ğ½Ğ°ÑƒÑ‡Ğ½Ñ‹Ñ… ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ¾Ğ²

ğŸ“‹ **Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚:** NIST 800-63B Moderate
â€¢ ĞœĞ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 12 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²
â€¢ Ğ—Ğ°Ğ¿Ñ€ĞµÑ‚ Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ñ… Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹
â€¢ Ğ£Ñ‡ĞµÑ‚ ÑĞ½Ñ‚Ñ€Ğ¾Ğ¿Ğ¸Ğ¸ Ğ¸ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ğ¾Ğ²

ğŸ’» **Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:**
â€¢ Solid.js - Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ñ€ĞµĞ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ UI
â€¢ TypeScript - Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´
â€¢ PDF-lib - Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ PDF
â€¢ Telegram WebApp SDK

ğŸŒŸ **ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸:**
âœ… ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ğ¹ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´
âœ… ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ñ€ÑƒÑÑĞºĞ¾Ğ¹ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñ‹
âœ… Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² PDF Ğ¸ JSON
âœ… Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ±ĞµĞ· Ğ¸Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚Ğ° Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸

ğŸ”— **Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´:** github.com/Razmik-Kutinava/password-entropy-lab`;

  const options = {
    reply_markup: {
      inline_keyboard: [
        [
          {
            text: 'ğŸ” ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ',
            web_app: { url: APP_URL }
          }
        ]
      ]
    }
  };

  bot.sendMessage(chatId, aboutMessage, options);
});

// Command /security
bot.onText(/\/security/, (msg) => {
  const chatId = msg.chat.id;
  
  const securityMessage = `ğŸ”’ Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸

âœ… **ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ:**
â€¢ Ğ’ÑĞµ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´ÑÑ‚ Ğ² Ğ²Ğ°ÑˆĞµĞ¼ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ
â€¢ ĞŸĞ°Ñ€Ğ¾Ğ»Ğ¸ Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°ÑÑ‚ÑÑ Ğ¿Ğ¾ ÑĞµÑ‚Ğ¸
â€¢ ĞĞµÑ‚ ÑĞµÑ€Ğ²ĞµÑ€Ğ½Ğ¾Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â€¢ ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ğ¹ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´ Ğ´Ğ»Ñ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ°

ğŸ›¡ï¸ **Ğ§Ñ‚Ğ¾ ĞĞ• ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ:**
â€¢ Ğ’Ğ°ÑˆĞ¸ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ğ¸
â€¢ Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°
â€¢ ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
â€¢ Cookies Ñ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑĞ¼Ğ¸

ğŸ“Š **Ğ§Ñ‚Ğ¾ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾:**
â€¢ Ğ”Ğ»Ğ¸Ğ½Ğ° Ğ¸ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ğ°Ñ€Ğ¾Ğ»Ñ
â€¢ Ğ­Ğ½Ñ‚Ñ€Ğ¾Ğ¿Ğ¸Ñ (Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ñ€Ğ°ÑÑ‡ĞµÑ‚)
â€¢ Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ñ Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑĞ¼Ğ¸
â€¢ ĞĞ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ğ¾Ğ²

âš ï¸ **Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸:**
â€¢ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ğ¸ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²Ğ¸ÑĞ°
â€¢ Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚Ğµ Ğ´Ğ²ÑƒÑ…Ñ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ½ÑƒÑ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
â€¢ Ğ ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞ¹Ñ‚Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»Ğ¸
â€¢ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹`;

  const options = {
    reply_markup: {
      inline_keyboard: [
        [
          {
            text: 'ğŸ” ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ',
            web_app: { url: APP_URL }
          }
        ]
      ]
    }
  };

  bot.sendMessage(chatId, securityMessage, options);
});

// Handle callback queries
bot.on('callback_query', (callbackQuery) => {
  const message = callbackQuery.message;
  const data = callbackQuery.data;

  switch(data) {
    case 'help':
      bot.answerCallbackQuery(callbackQuery.id);
      bot.sendMessage(message.chat.id, `â“ Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¿Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

ğŸ” **ĞšĞ°Ğº Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ:**
1. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "ğŸ” ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ"
2. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ Ğ² Ğ¿Ğ¾Ğ»Ğµ Ğ²Ğ²Ğ¾Ğ´Ğ°
3. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·
4. ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ "ğŸ“„ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ PDF" Ğ´Ğ»Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ°

ğŸ”’ **Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ:**
Ğ’ÑĞµ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´ÑÑ‚ Ğ² Ğ²Ğ°ÑˆĞµĞ¼ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ. ĞŸĞ°Ñ€Ğ¾Ğ»Ğ¸ Ğ½Ğ¸ĞºÑƒĞ´Ğ° Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°ÑÑ‚ÑÑ Ğ¸ Ğ½Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑÑÑ‚ÑÑ.`, {
        reply_markup: {
          inline_keyboard: [
            [
              {
                text: 'ğŸ” ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ',
                web_app: { url: APP_URL }
              }
            ]
          ]
        }
      });
      break;
      
    case 'about':
      bot.answerCallbackQuery(callbackQuery.id);
      bot.sendMessage(message.chat.id, `â„¹ï¸ Ğ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸ Password & Entropy Lab

ğŸ¯ ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹ Ğ¿Ğ¾ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ñƒ NIST 800-63B
ğŸ’» Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸: Solid.js + TypeScript + PDF-lib
ğŸ”’ ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ - Ğ²ÑĞµ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾
ğŸ“± Telegram Mini App

ğŸ”— **Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´:** github.com/Razmik-Kutinava/password-entropy-lab`, {
        reply_markup: {
          inline_keyboard: [
            [
              {
                text: 'ğŸ” ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ',
                web_app: { url: APP_URL }
              }
            ]
          ]
        }
      });
      break;
  }
});

// Error handling
bot.on('error', (error) => {
  console.error('âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ±Ğ¾Ñ‚Ğ°:', error);
});

bot.on('polling_error', (error) => {
  console.error('âŒ ĞÑˆĞ¸Ğ±ĞºĞ° polling:', error);
});

// Health check endpoint for Railway
const express = require('express');
const app = express();

app.get('/health', (req, res) => {
  res.json({ status: 'ok', bot: 'running' });
});

const PORT = process.env.PORT || 3001;
app.listen(PORT, () => {
  console.log(`ğŸ¥ Health check server running on port ${PORT}`);
});
